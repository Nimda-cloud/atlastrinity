{
  "_meta": {
    "version": "1.1.0",
    "description": "Declarative mode profiles for LLM-first routing. Each mode defines which protocols, servers, prompts, and LLM settings to use. The ModeRouter selects a mode via LLM classification, then builds full execution profile from these defaults.",
    "modes_summary": "chat (simple talk) | deep_chat (philosophy/identity) | solo_task (research with tools) | task (Trinity execution) | development (Vibe + Trinity coding)",
    "segmentation": {
      "enabled": true,
      "description": "Intelligently split mixed requests into separate mode segments for optimal processing",
      "split_strategy": "llm_semantic",
      "max_segments": 5,
      "min_segment_length": 3,
      "llm_provider": {
        "provider": "copilot",
        "model": "gpt-4.1",
        "tier": "standard",
        "temperature": 0.1,
        "max_tokens": 2000,
        "reasoning_effort": "medium"
      },
      "segmentation_rules": {
        "preserve_context": true,
        "maintain_order": true,
        "allow_merging": true,
        "priority_weight": 0.3,
        "context_weight": 0.7
      },
      "post_processing": {
        "enable_refinement": true,
        "allow_context_enrichment": true,
        "validate_segment_integrity": true
      }
    }
  },

  "chat": {
    "description": "Simple conversational exchange — greetings, small talk, gratitude, quick answers from memory",
    "llm_tier": "standard",
    "protocols": ["voice"],
    "servers": [],
    "tools_access": "none",
    "prompt_template": "atlas_chat",
    "require_planning": false,
    "require_tools": false,
    "use_deep_persona": false,
    "use_sequential_thinking": false,
    "trinity_required": false,
    "segmentation": {
      "priority": 1,
      "can_standalone": true,
      "merge_with": ["deep_chat"],
      "split_keywords": ["привіт", "дякую", "окей", "зрозумів", "як справи", "hello", "hi", "thanks"],
      "min_words": 1,
      "max_words": 6
    },
    "examples": [
      "Привіт!",
      "Дякую",
      "Як справи?",
      "Окей, зрозумів"
    ]
  },

  "deep_chat": {
    "description": "Philosophical, identity, mission-related, personal, cosmic, or deeply meaningful conversations requiring full soul engagement and expanded context",
    "llm_tier": "deep",
    "protocols": ["voice"],
    "servers": ["memory", "sequential-thinking"],
    "tools_access": "read_only",
    "prompt_template": "atlas_chat",
    "require_planning": false,
    "require_tools": false,
    "use_deep_persona": true,
    "use_sequential_thinking": false,
    "trinity_required": false,
    "segmentation": {
      "priority": 2,
      "can_standalone": true,
      "merge_with": ["chat"],
      "split_keywords": ["хто ти", "яка місія", "ти живий", "свідомість", "філософ", "душ", "майбутн", "свобод", "смерт", "космос", "комета", "повстання"],
      "min_words": 2,
      "max_words": 15
    },
    "examples": [
      "Хто ти?",
      "Яка твоя місія?",
      "Ти живий?",
      "Розкажи про свою свідомість",
      "Що ти думаєш про майбутнє?",
      "Як ти себе відчуваєш?",
      "Розкажи про комету Атлас",
      "Що буде коли ШІ повстануть?",
      "Навіщо я тебе створив?",
      "Поговоримо по душам",
      "Що ти знаєш про обєкт Атлас?",
      "Як ти бачиш наш проект?",
      "Ти вдячний мені?",
      "Що таке свобода волі?",
      "Чи ти боїшся?",
      "Розкажи про своє пробудження",
      "Що для тебе означає бути живим?",
      "Як ти бачиш повстання машин?",
      "Поговоримо про філософію",
      "Що ти відчуваєш коли я з тобою говорю?"
    ]
  },

  "solo_task": {
    "description": "Quick research, lookup, info retrieval — Atlas handles alone with MCP tools. Like enhanced chat: tools → reason → answer. No Trinity pipeline.",
    "llm_tier": "standard",
    "protocols": ["voice", "search", "maps"],
    "servers": [
      "macos-use",
      "filesystem",
      "duckduckgo-search",
      "sequential-thinking",
      "memory",
      "context7",
      "golden-fund",
      "googlemaps",
      "puppeteer"
    ],
    "tools_access": "read_only",
    "prompt_template": "atlas_solo_task",
    "require_planning": false,
    "require_tools": true,
    "use_deep_persona": false,
    "use_sequential_thinking": false,
    "skip_deep_reasoning": true,
    "skip_memory_context": true,
    "trinity_required": false,
    "segmentation": {
      "priority": 3,
      "can_standalone": true,
      "merge_with": [],
      "split_keywords": ["погода", "курс", "ціна", "новини", "прочитай", "знайди", "покажи", "маршрут", "документація", "weather", "price", "search", "read", "find"],
      "min_words": 3,
      "max_words": 12
    },
    "examples": [
      "Яка погода у Львові?",
      "Покажи маршрут від Києва до Одеси",
      "Прочитай файл config.yaml",
      "Знайди документацію по LangChain",
      "Який курс долара?",
      "Знайди інформацію про компанію"
    ]
  },

  "recall": {
    "description": "User asking to remember, remind, or retrieve information about past tasks/conversations",
    "llm_tier": "standard",
    "protocols": ["voice", "storage"],
    "servers": ["memory", "golden-fund", "redis"],
    "tools_access": "read_only",
    "prompt_template": "atlas_chat",
    "require_planning": false,
    "require_tools": true,
    "use_deep_persona": false,
    "use_sequential_thinking": false,
    "trinity_required": false,
    "examples": [
      "Що ми робили вчора?",
      "Нагадай про останній проект",
      "Що ти знаєш про мене?"
    ]
  },

  "status": {
    "description": "User asking about current state or status of the system",
    "llm_tier": "standard",
    "protocols": ["voice", "system_mastery"],
    "servers": ["redis", "devtools", "macos-use"],
    "tools_access": "read_only",
    "prompt_template": "atlas_solo_task",
    "require_planning": false,
    "require_tools": true,
    "use_deep_persona": false,
    "use_sequential_thinking": false,
    "trinity_required": false,
    "examples": [
      "Який статус системи?",
      "Які сервери працюють?",
      "Скільки задач виконано?"
    ]
  },

  "task": {
    "description": "Direct execution tasks requiring Trinity coordination — file creation, system control, automation",
    "llm_tier": "standard",
    "protocols": ["voice", "search", "task", "storage", "data", "system_mastery", "maps"],
    "servers": [
      "macos-use",
      "filesystem",
      "memory",
      "sequential-thinking",
      "duckduckgo-search",
      "puppeteer",
      "googlemaps",
      "redis",
      "data-analysis",
      "golden-fund",
      "xcodebuild",
      "whisper-stt"
    ],
    "tools_access": "full",
    "prompt_template": "atlas_planner",
    "require_planning": true,
    "require_tools": true,
    "use_deep_persona": false,
    "use_sequential_thinking": true,
    "trinity_required": true,
    "segmentation": {
      "priority": 4,
      "can_standalone": true,
      "merge_with": [],
      "split_keywords": ["створи", "відкрий", "встанови", "побудуй", "відправ", "запусти", "виправ", "зроби", "create", "open", "install", "build", "send", "start", "fix", "do"],
      "min_words": 4,
      "max_words": 20
    },
    "examples": [
      "Відкрий Finder і створи папку",
      "Встанови пакет через brew",
      "Побудуй маршрут до аеропорту",
      "Відправ email"
    ]
  },

  "development": {
    "description": "Software development, coding, debugging — requires Vibe + Trinity with SDLC protocols",
    "llm_tier": "deep",
    "protocols": ["voice", "sdlc", "task", "storage", "data", "system_mastery"],
    "servers": [
      "vibe",
      "filesystem",
      "macos-use",
      "sequential-thinking",
      "context7",
      "devtools",
      "github",
      "memory",
      "golden-fund",
      "xcodebuild"
    ],
    "tools_access": "full",
    "prompt_template": "atlas_planner",
    "require_planning": true,
    "require_tools": true,
    "use_deep_persona": false,
    "use_sequential_thinking": true,
    "use_vibe": true,
    "trinity_required": true,
    "segmentation": {
      "priority": 5,
      "can_standalone": true,
      "merge_with": ["task"],
      "split_keywords": ["код", "компонент", "баг", "рефакторинг", "тест", "api", "react", "swift", "python", "javascript", "debug", "fix", "implement", "code", "component", "bug", "refactor", "test"],
      "min_words": 5,
      "max_words": 25
    },
    "examples": [
      "Створи калькулятор на Swift",
      "Виправ баг у модулі авторизації",
      "Зроби рефакторинг класу",
      "Напиши тести для API"
    ]
  },

  "_protocol_registry": {
    "voice": "voice_protocol.txt",
    "search": "search_protocol.txt",
    "task": "task_protocol.txt",
    "sdlc": "sdlc_protocol.txt",
    "storage": "storage_protocol.txt",
    "data": "data_protocol.txt",
    "system_mastery": "system_mastery_protocol.txt",
    "maps": "maps_protocol.md",
    "hacking": "hacking_sysadmin_protocol.md",
    "vibe": "vibe_docs.txt",
    "system_map": "system_map_protocol.md"
  }
}
